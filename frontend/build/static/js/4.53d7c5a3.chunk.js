(this.webpackJsonpplayupbeat=this.webpackJsonpplayupbeat||[]).push([[4],{141:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n(54),s=n(11),r=n(8),i=n(4),o=n(12),d=n(2);t.default=function(){const e=Object(a.useContext)(r.a),t=Object(i.o)(),[n,l]=Object(a.useState)([]);Object(a.useEffect)((()=>{(async()=>{if(e.isLoggedIn)try{const t=await c.a.get(`http://44.209.90.61:8080/api/tournaments/user/${e.userId}`,{headers:{Authorization:`Bearer ${e.token}`}});l(t.data.tournaments)}catch(t){console.log("Unable to fetch tournaments",t)}})()}),[e.userId,e.isLoggedIn,e.token]);const j=async t=>{try{await(async t=>{try{await c.a.delete(`http://44.209.90.61:8080/api/tournaments/${t}`,{headers:{Authorization:`Bearer ${e.token}`}})}catch(n){console.error("Failed to delete Tournament:",n)}})(t.id),l(n.filter((e=>e.id!==t.id)))}catch(a){console.error("Failed to delete Tournament",a)}};return Object(d.jsxs)("div",{className:"bodyDiv",children:[Object(d.jsx)(s.a,{}),Object(d.jsxs)("div",{className:"tournamentContainer",children:[Object(d.jsx)("h2",{children:"Your Tournaments"}),Object(d.jsx)("hr",{}),n.map((e=>Object(d.jsxs)("div",{children:[Object(d.jsxs)("div",{children:[Object(d.jsx)("h3",{children:e.title}),Object(d.jsx)("p",{children:e.location}),Object(d.jsx)("p",{children:new Date(e.date).toLocaleDateString()})]}),Object(d.jsxs)("div",{className:"admin-child",children:[Object(d.jsx)("button",{onClick:()=>{t("/admin/updateTournament",{state:{tournament:e}})},children:"Edit"}),Object(d.jsx)("button",{onClick:()=>j(e),children:"Delete"})]}),Object(d.jsx)("hr",{})]},e.id)))]}),Object(d.jsx)(o.a,{})]})}}}]);
//# sourceMappingURL=4.53d7c5a3.chunk.js.map