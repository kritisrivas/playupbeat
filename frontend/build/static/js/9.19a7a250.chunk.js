(this.webpackJsonpplayupbeat=this.webpackJsonpplayupbeat||[]).push([[9],{138:function(e,t,a){"use strict";a.r(t);var s=a(0),c=a(54),r=a(11),n=a(12),i=a(8),l=a(4),o=a(2);t.default=()=>{const e=Object(s.useContext)(i.a),[t,a]=Object(s.useState)(!0),[u,d]=Object(s.useState)(""),[j,b]=Object(s.useState)(""),[p,h]=Object(s.useState)(""),[O,g]=Object(s.useState)(""),x=Object(l.o)();return Object(o.jsxs)("div",{className:"bodyDiv",children:[Object(o.jsx)(r.a,{}),Object(o.jsxs)("div",{className:"login-container",children:[Object(o.jsx)("h2",{children:"User Login"}),Object(o.jsxs)("form",{onSubmit:async a=>{if(a.preventDefault(),t)try{const t=await c.a.post("http://44.209.90.61:8080/users/login",{email:j,password:p});"user"===t.data.role?(e.login(t.data.userId,t.data.role,t.data.token),x("/dashboard")):g("Please login using your user account")}catch(s){g("Invalid credentials")}else try{const t="user",a=await c.a.post("http://44.209.90.61:8080/users/signup",{name:u,email:j,password:p,role:t});e.login(a.data.userId,a.data.role,a.data.token),x("/dashboard")}catch(s){g("Invalid credentials")}},children:[!t&&Object(o.jsxs)("div",{className:"form-group",children:[Object(o.jsx)("label",{children:"Name:"}),Object(o.jsx)("input",{type:"text",value:u,onChange:e=>d(e.target.value),required:!0})]}),Object(o.jsxs)("div",{className:"form-group",children:[Object(o.jsx)("label",{children:"Email:"}),Object(o.jsx)("input",{type:"email",value:j,onChange:e=>b(e.target.value),required:!0})]}),Object(o.jsxs)("div",{className:"form-group",children:[Object(o.jsx)("label",{children:"Password:"}),Object(o.jsx)("input",{type:"password",value:p,onChange:e=>h(e.target.value),required:!0})]}),O&&Object(o.jsx)("p",{className:"error",children:O}),Object(o.jsx)("button",{type:"submit",children:t?"LOGIN":"SIGNUP"}),Object(o.jsxs)("button",{className:"switchLoginBtn",onClick:()=>{a((e=>!e))},children:["Switch to ",t?"Signup":"Login"]})]})]}),Object(o.jsx)(n.a,{})]})}}}]);
//# sourceMappingURL=9.19a7a250.chunk.js.map